import{b as r,j as c}from"./chunk-2HEMEX2A.js";import{a as m,b as i}from"./chunk-D7YYRZS5.js";var d=(()=>{let s=class s{constructor(){this.teamsSubject=new r([]),this.teams$=this.teamsSubject.asObservable();let e=localStorage.getItem("teams");e&&this.teamsSubject.next(JSON.parse(e))}getTeams(){return this.teamsSubject.getValue()}addTeam(e){let t=[...this.getTeams(),{name:e,pokemons:[]}];this.teamsSubject.next(t),this.save(t)}addPokemonToTeam(e,t){let a=this.getTeams().map(o=>o.name===e&&!o.pokemons.includes(t)?i(m({},o),{pokemons:[...o.pokemons,t]}):o);this.teamsSubject.next(a),this.save(a)}getPokemonsOfTeam(e){let t=this.getTeams().find(a=>a.name===e);return t?t.pokemons:[]}isInAnyTeam(e){return this.getTeams().some(t=>t.pokemons.includes(e))}deleteTeam(e){let t=this.getTeams().filter(a=>a.name!==e);this.teamsSubject.next(t),this.save(t)}save(e){localStorage.setItem("teams",JSON.stringify(e))}};s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=c({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();export{d as a};
