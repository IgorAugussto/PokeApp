import{a as te}from"./chunk-ZWUE7B77.js";import{a as ee}from"./chunk-DBLUO5QL.js";import{a as ie}from"./chunk-62IF2K3O.js";import{A as h,D as d,Db as X,E as c,F as s,G as v,Gb as Z,H as k,I as P,J as M,K as g,L as _,M as T,N as p,O as S,P as x,U as E,Wa as V,X as O,Y as b,Z as F,ba as w,ca as y,ea as A,eb as B,fa as z,fb as j,gb as R,ib as $,jb as N,kb as G,la as D,lb as Y,mb as q,nb as J,pb as K,q as f,qa as H,r as u,vb as L,wb as Q,x as l,xb as U,y as m,yb as W,z as I}from"./chunk-2HEMEX2A.js";import"./chunk-FE2UICDI.js";import"./chunk-QUJFQN2Y.js";import"./chunk-DC2KWTLL.js";import"./chunk-3LE7GTOF.js";import"./chunk-5ZZZHWYL.js";import"./chunk-X5AM4URC.js";import"./chunk-Z6MEPDW4.js";import"./chunk-PT2X42CG.js";import"./chunk-BYMGTA2M.js";import"./chunk-RFS2QEJY.js";import"./chunk-E75YSMEF.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-F2SWXLAP.js";import"./chunk-CKP3SGE2.js";import"./chunk-ZTUSWYLN.js";import"./chunk-QZ74BE7R.js";import"./chunk-PP6UVBPM.js";import"./chunk-Y7S5QD3R.js";import"./chunk-X33NLSSG.js";import"./chunk-WESY2VG5.js";import"./chunk-M2X7KQLB.js";import"./chunk-3IVKBF6N.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{f as C}from"./chunk-D7YYRZS5.js";function oe(n,o){n&1&&(k(0),v(1,"img",12),P())}function re(n,o){n&1&&p(0,"\u26AA")}function ae(n,o){if(n&1){let r=M();c(0,"ion-col",6)(1,"ion-card",7)(2,"span",8),g("click",function(t){let i=f(r).$implicit,a=_();return u(a.selectTeam(i.id,t))}),h(3,oe,2,0,"ng-container",9)(4,re,1,0,"ng-template",null,0,F),s(),c(6,"span",10),g("click",function(t){let i=f(r).$implicit,a=_();return u(a.toggleFavorite(i.id,t))}),p(7),s(),c(8,"ion-img",11),g("click",function(){let t=f(r).$implicit,i=_();return u(i.goToDetails(t.id))}),s(),c(9,"ion-card-header")(10,"ion-card-title"),p(11),O(12,"titlecase"),s()()()()}if(n&2){let r=o.$implicit,e=T(5),t=_();l(3),d("ngIf",t.isInTeam(r.id))("ngIfElse",e),l(4),x(" ",t.isFavorite(r.id)?"\u2764\uFE0F":"\u{1F90D}"," "),l(),d("alt",E(r.name))("src",r.image),l(3),S(b(12,7,r.name))}}var ve=(()=>{let o=class o{constructor(e,t,i,a,ne){this.pokeApi=e,this.favoriteService=t,this.teamService=i,this.router=a,this.actionSheetCtrl=ne,this.pokemons=[],this.offset=0,this.limit=20,this.loading=!1}ionViewDidEnter(){this.loadMorePokemons()}loadMorePokemons(){this.loading=!0,this.pokeApi.getPokemons(this.limit,this.offset).subscribe(e=>{this.pokemons.push(...e),this.offset+=this.limit,this.loading=!1})}goToDetails(e){this.router.navigate(["/details",e])}isFavorite(e){return this.favoriteService.isFavorite(e)}toggleFavorite(e,t){t.stopPropagation(),this.favoriteService.toggleFavorite(e)}isInAnyTeam(e){return this.teamService.isInAnyTeam(e)}isInTeam(e){return this.teamService.isInAnyTeam(e)}selectTeam(e,t){return C(this,null,function*(){t.stopPropagation(),yield(yield this.actionSheetCtrl.create({header:"Adicionar ao Time",buttons:this.teamService.getTeams().map(a=>({text:a.name,handler:()=>{this.teamService.addPokemonToTeam(a.name,e)}}))})).present()})}};o.\u0275fac=function(t){return new(t||o)(m(ee),m(te),m(ie),m(D),m(X))},o.\u0275cmp=I({type:o,selectors:[["app-home"]],decls:13,vars:3,consts:[["emptyBall",""],["slot","start"],[1,"ion-padding"],["size","6","sizeMd","3",4,"ngFor","ngForOf"],[1,"ion-text-center","ion-margin"],[3,"click","disabled"],["size","6","sizeMd","3"],[1,"poke-card",2,"cursor","pointer"],[1,"team-icon",3,"click"],[4,"ngIf","ngIfElse"],[1,"fav-icon",3,"click"],[3,"click","src","alt"],["src","assets/icon/pokeball.svg","alt","Pok\xE9bola","width","24","height","24"]],template:function(t,i){t&1&&(c(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),v(3,"ion-menu-button"),s(),c(4,"ion-title"),p(5,"Pok\xE9dex"),s()()(),c(6,"ion-content",2)(7,"ion-grid")(8,"ion-row"),h(9,ae,13,9,"ion-col",3),s()(),c(10,"div",4)(11,"ion-button",5),g("click",function(){return i.loadMorePokemons()}),p(12),s()()()),t&2&&(l(9),d("ngForOf",i.pokemons),l(2),d("disabled",i.loading),l(),x(" ",i.loading?"Carregando...":"Carregar mais"," "))},dependencies:[z,w,y,A,Z,B,j,R,$,N,G,Y,q,J,K,L,Q,U,W,H,V],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-card[_ngcontent-%COMP%]{position:relative}ion-card-content[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;z-index:10}.poke-card[_ngcontent-%COMP%]{position:relative}.team-icon[_ngcontent-%COMP%], .fav-icon[_ngcontent-%COMP%]{position:absolute;font-size:24px;cursor:pointer;z-index:10}.team-icon[_ngcontent-%COMP%]{top:8px;left:8px}.fav-icon[_ngcontent-%COMP%]{top:8px;right:8px}"]});let n=o;return n})();export{ve as HomePage};
